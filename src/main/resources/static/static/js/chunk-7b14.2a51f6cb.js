(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7b14"],{HzRm:function(e,t,a){"use strict";a.r(t);var i=a("YEIV"),l=a.n(i),s=a("wMd2"),n={mounted:function(){window.addEventListener("click",this.hideHighSearchContainer);var e=document.getElementById("high-search-button");e&&e.addEventListener("click",this.handleHighSearchButtonClick);var t=document.getElementById("high-search-container");t&&t.addEventListener("click",function(e){return e.stopPropagation()})},methods:{hideHighSearchContainer:function(){var e=document.getElementById("high-search-container");e&&"none"!=e.style.display&&(e.style.display="none")},handleHighSearchButtonClick:function(e){e.stopPropagation();var t=document.getElementById("high-search-container");"block"!=t.style.display?t.style.display="block":t.style.display="none"}}},o={name:"user",mixins:[a("WAwK").a,n],data:function(){var e;return e={api:s.a,isShrinkRight:!1,activeNames:["1","2"],isDoubleColumnPage:!0,listQuery:{limit:20,page:1,sort:null,username:"",realName:"",state:"",mobilePhone:"",email:"",sapUsername:"",telephone:""},rowSelection:[],list:[],listTotal:0,isHighSearch:!1,listLoading:!1,formDisabled:!0,fieldDisabled:!1,stateOptions:[],userTypeOptions:[{code:"20000",name:"域用户"},{code:"10000",name:"本地用户"}],textMap:{view:"查看详情",create:"创建",update:"更新"},dialogVisible:!1,dialogStatus:"view",dialogLoading:!1},l()(e,"formDisabled",!1),l()(e,"dialogTemp",{username:"",realName:"",domainName:"",userType:"",state:"",telephone:"",email:"",mobilePhone:"",description:"",sysRoles:[]}),l()(e,"rules",{tmBasPlantId:[{required:!0,message:"请选择",trigger:"change"}],rackType:[{required:!0,message:"请输入",trigger:"change"}],rackTypeDescC:[{required:!0,message:"请输入",trigger:"change"}]}),e},created:function(){this.getStateOptions()},computed:{highSearchIcon:function(){return this.isHighSearch?"el-icon-arrow-up":"el-icon-arrow-down"}},methods:{handleFilter:function(){this.listQuery.page=1,this.fetchData()},handleReset:function(){this.listQuery={limit:20,page:1,sort:null,username:"",realName:"",state:"",mobilePhone:"",email:"",sapUsername:"",telephone:""}},getStateOptions:function(){var e=this;s.a.getStateOptions().then(function(t){e.stateOptions=t})},getNameByCode:function(e){var t=this.stateOptions.filter(function(t){return t.code==e});return t.length>0?t[0].name:e}}},r=a("KHd+"),c=Object(r.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"app-search-container",staticStyle:{height:"70px"}},[a("div",{staticClass:"action-title"},[e._v("查询")]),e._v(" "),a("div",{staticClass:"new-search-container"},[a("div",{staticClass:"item-container"},[a("div",{staticClass:"item"},[a("span",{staticClass:"item-title"},[e._v("用户登录名")]),e._v(" "),a("div",{staticClass:"item-body"},[a("el-input",{attrs:{size:"mini",placeholder:"请输入"},model:{value:e.listQuery.username,callback:function(t){e.$set(e.listQuery,"username",t)},expression:"listQuery.username"}})],1)]),e._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"item-title"},[e._v("用户姓名")]),e._v(" "),a("div",{staticClass:"item-body"},[a("el-input",{attrs:{size:"mini",placeholder:"请输入"},model:{value:e.listQuery.realName,callback:function(t){e.$set(e.listQuery,"realName",t)},expression:"listQuery.realName"}})],1)]),e._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"item-title"},[e._v("状态")]),e._v(" "),a("div",{staticClass:"item-body"},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"mini"},model:{value:e.listQuery.state,callback:function(t){e.$set(e.listQuery,"state",t)},expression:"listQuery.state"}},e._l(e.stateOptions,function(e,t){return a("el-option",{key:t,attrs:{label:""+e.name,value:e.code}})}))],1)]),e._v(" "),a("div",{staticClass:"item-button"},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{size:"mini",icon:"el-icon-circle-close"},on:{click:e.handleReset}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{id:"high-search-button",size:"mini"}},[e._v("高级查询")])],1)]),e._v(" "),a("div",{staticClass:"high-search-container",attrs:{id:"high-search-container"}},[a("div",{staticClass:"item-container"},[a("div",{staticClass:"item"},[a("span",{staticClass:"item-title"},[e._v("移动电话")]),e._v(" "),a("div",{staticClass:"item-body"},[a("el-input",{attrs:{size:"mini",placeholder:"请输入"},model:{value:e.listQuery.mobilePhone,callback:function(t){e.$set(e.listQuery,"mobilePhone",t)},expression:"listQuery.mobilePhone"}})],1)]),e._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"item-title"},[e._v("邮箱地址")]),e._v(" "),a("div",{staticClass:"item-body"},[a("el-input",{attrs:{size:"mini",placeholder:"请输入"},model:{value:e.listQuery.email,callback:function(t){e.$set(e.listQuery,"email",t)},expression:"listQuery.email"}})],1)]),e._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"item-title"},[e._v("SAP对应用户名")]),e._v(" "),a("div",{staticClass:"item-body"},[a("el-input",{attrs:{size:"mini",placeholder:"请输入"},model:{value:e.listQuery.sapUsername,callback:function(t){e.$set(e.listQuery,"sapUsername",t)},expression:"listQuery.sapUsername"}})],1)]),e._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"item-title"},[e._v("办公号码")]),e._v(" "),a("div",{staticClass:"item-body"},[a("el-input",{attrs:{size:"mini",placeholder:"请输入"},model:{value:e.listQuery.telephone,callback:function(t){e.$set(e.listQuery,"telephone",t)},expression:"listQuery.telephone"}})],1)])])])]),e._v(" "),a("div",{staticClass:"divider"})]),e._v(" "),a("div",{staticClass:"app-wrap-container",staticStyle:{height:"calc(100% - 70px)"}},[a("div",{staticClass:"wrap-left",class:{expandWrapLeft:e.isShrinkRight}},[a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,height:"auto","element-loading-text":"正在加载中...",fix:"",stripe:"",border:"","highlight-current-row":""},on:{"sort-change":e.handleTableSortChange,"row-click":e.handleView}},[a("el-table-column",{attrs:{label:"用户登录名",prop:"username","min-width":"100","header-align":"center",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属域",prop:"domainName","min-width":"150","header-align":"center",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户类型",prop:"userType","min-width":"100","header-align":"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[1e4==t.row.userType?a("span",[e._v("本地用户")]):2e4==t.row.userType?a("span",[e._v("域用户")]):a("span",[e._v(e._s(t.row.userType))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"用户姓名",prop:"realName","min-width":"100","header-align":"center",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{label:"办公号码",prop:"telephone","min-width":"120","header-align":"center",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{label:"邮箱地址",prop:"email","min-width":"120","header-align":"center",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{label:"移动号码",prop:"mobilePhone","min-width":"100","header-align":"center",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",prop:"state","min-width":"100","header-align":"center",sortable:"custom"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.state?a("span",[e._v(e._s(e.getNameByCode(t.row.state)))]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最近登录",prop:"lastlogintime","min-width":"100","header-align":"center",sortable:"custom"}}),e._v(" "),a("el-table-column",{attrs:{label:"客户端版本号",prop:"clientversion","min-width":"100","header-align":"center",sortable:"custom"}})],1)],1),e._v(" "),a("div",{staticClass:"footer-container"},[a("div",{staticClass:"pagination-center"},[a("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[20,50,100,200],"page-size":e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper","page-count":5,total:e.listTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])]),e._v(" "),a("div",{staticClass:"wrap-right",class:{shrinkWrapRight:e.isShrinkRight}},[a("div",{staticClass:"wrap-title",on:{click:function(t){e.isShrinkRight=!0}}},[a("div",{staticClass:"left"},[e._v("详细信息")]),e._v(" "),e._m(0)]),e._v(" "),a("div",{staticClass:"wrap-content"},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"基础信息",name:"1"}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],ref:"dataForm",attrs:{"element-loading-text":"数据加载中...",model:e.dialogTemp,disabled:e.formDisabled,rules:e.rules,"label-position":"left","label-width":"200px",size:"mini"}},[a("el-form-item",{attrs:{label:"用户登录名",prop:"username"}},[a("el-input",{model:{value:e.dialogTemp.username,callback:function(t){e.$set(e.dialogTemp,"username","string"==typeof t?t.trim():t)},expression:"dialogTemp.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户姓名",prop:"realName"}},[a("el-input",{model:{value:e.dialogTemp.realName,callback:function(t){e.$set(e.dialogTemp,"realName","string"==typeof t?t.trim():t)},expression:"dialogTemp.realName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属域",prop:"domainName"}},[a("el-input",{model:{value:e.dialogTemp.domainName,callback:function(t){e.$set(e.dialogTemp,"domainName","string"==typeof t?t.trim():t)},expression:"dialogTemp.domainName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户类型",prop:"userType"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"mini"},model:{value:e.dialogTemp.userType,callback:function(t){e.$set(e.dialogTemp,"userType",t)},expression:"dialogTemp.userType"}},e._l(e.userTypeOptions,function(e,t){return a("el-option",{key:t,attrs:{label:""+e.name,value:e.code}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"办公号码",prop:"telephone"}},[a("el-input",{model:{value:e.dialogTemp.telephone,callback:function(t){e.$set(e.dialogTemp,"telephone",t)},expression:"dialogTemp.telephone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮件地址",prop:"email"}},[a("el-input",{model:{value:e.dialogTemp.email,callback:function(t){e.$set(e.dialogTemp,"email",t)},expression:"dialogTemp.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"移动电话",prop:"mobilePhone"}},[a("el-input",{model:{value:e.dialogTemp.mobilePhone,callback:function(t){e.$set(e.dialogTemp,"mobilePhone",t)},expression:"dialogTemp.mobilePhone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户描述",prop:"description"}},[a("el-input",{model:{value:e.dialogTemp.description,callback:function(t){e.$set(e.dialogTemp,"description",t)},expression:"dialogTemp.description"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"state"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择",size:"mini"},model:{value:e.dialogTemp.state,callback:function(t){e.$set(e.dialogTemp,"state",t)},expression:"dialogTemp.state"}},e._l(e.stateOptions,function(e,t){return a("el-option",{key:t,attrs:{label:""+e.name,value:e.code}})}))],1)],1)],1),e._v(" "),a("el-collapse-item",{attrs:{title:"所属角色",name:"2"}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.dialogTemp.sysRoles,height:"500","element-loading-text":"正在加载中...",fix:"",stripe:"",border:"","highlight-current-row":""}},[a("el-table-column",{attrs:{label:"角色名称",prop:"name","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"角色描述",prop:"description","min-width":"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[a("span",[e._v(e._s(i.description))])]}}])})],1)],1)],1)],1)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShrinkRight,expression:"isShrinkRight"}],staticClass:"expandWrapRight"},[a("i",{staticClass:"el-icon-arrow-left",on:{click:function(t){e.isShrinkRight=!1}}})])])])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"right"},[t("i",{staticClass:"el-icon-arrow-right"})])}],!1,null,null,null);c.options.__file="index.vue";t.default=c.exports},"RU/L":function(e,t,a){a("Rqdy");var i=a("WEpk").Object;e.exports=function(e,t,a){return i.defineProperty(e,t,a)}},Rqdy:function(e,t,a){var i=a("Y7ZC");i(i.S+i.F*!a("jmDH"),"Object",{defineProperty:a("2faE").f})},SEkw:function(e,t,a){e.exports={default:a("RU/L"),__esModule:!0}},YEIV:function(e,t,a){"use strict";t.__esModule=!0;var i=function(e){return e&&e.__esModule?e:{default:e}}(a("SEkw"));t.default=function(e,t,a){return t in e?(0,i.default)(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}}}]);